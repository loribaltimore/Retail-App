<script>
   let currentUserId = '<%=currentUser.id%>';
   let currentItemId = '<%=currentItem.id%>'
   let itemCategory = '<%=currentItem.category.main%>';
</script>
<div class="container row" id="shopping-cart" hidden>
   <% for (let item of cart){%>
    <div class="container row cart-item ">
            <div class="col">
        <h6 class="cart-name"><%=item.name%></h6>
        <img src="<%=item.img%>" alt="" class="shopping-cart-img">
        <h6 class="cart-price">$<%=item.price%></h6>
            </div>
        <div class="col row text-center qty-div">
            <h6 class="">Qty</h6>
            <div class="row qty-num">
                <h5 class="qty col qty-subtract-btn">-</h5>
            <p class="qty col qty-total"><%=item.qty%></p>
            <h5 class="qty col qty-add-btn">+</h5>
                </div>
             <form action="http://localhost:3001/shop/<%=currentUser.id%>/<%=currentItem.category.main%>/<%=currentItem.id%>" method="POST">
                <input type="text" name="disengage[action]" value="cart-remove" hidden>
                <input type="text" name="cart_item_id" value="<%=item.id%>" hidden>
                <button class="btn btn-danger cart-remove"><span class="cart-remove-text">Remove</span></button>
            </form>
        </div>
    </div>
        
    <%}%>
    <%if (cart !== undefined && cart.length){%>
        <%=cart.map(x => x.price).reduce((a, b) => a + b)%>
    <%}%>
        <button type="submit" class="btn-close" aria-label="Close" id="shopping-cart-close-btn"></button>
</div>